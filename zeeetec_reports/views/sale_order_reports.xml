<odoo>
	<data>

		<template id="zeeetec_external_layout_standard">
			<div t-attf-class="header o_company_#{company.id}_layout" t-att-style="report_header_style">
				<div class="row">
					<div class="col-6 mb4">
						<img t-if="company.logo" t-att-src="image_data_uri(company.logo)" style="max-height: 45px;" alt="Logo"/>
					</div>
					<div class="col-6 mb4 text-right">
						<div t-if="report_type == 'pdf'" >
							Page <span class="page"/> of <span class="topage"/>
						</div>
					</div>
				</div>
			</div>
	
			<div t-attf-class="article o_report_layout_standard o_company_#{company.id}_layout {{  'o_layout_background' if company.layout_background in ['Geometric', 'Custom']  else  '' }}" t-attf-style="background-image: url({{ 'data:image/png;base64,%s' % company.layout_background_image.decode('utf-8') if company.layout_background_image and company.layout_background == 'Custom' else '/base/static/img/bg_background_template.jpg' if company.layout_background == 'Geometric' else ''}});" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
				<div class="pt-5">
					<!-- This div ensures that the address is not cropped by the header. -->
					<t t-call="web.address_layout"/>
				</div>
				<t t-out="0"/>
			</div>
	
			<div t-attf-class="footer o_standard_footer o_company_#{company.id}_layout">
				<div class="row text-center">
					<div class="col-12 text-center">
						<span t-field="company.partner_id.street"/>,
						<span t-field="company.partner_id.street2"/>,
						<span t-field="company.partner_id.city"/>
					</div>
				</div>
				<div class="row" style="background-color:black">
					<div class="col-4 text-center" style="color:white">Phone: <span t-field="company.partner_id.phone"/></div>
					<div class="col-4 text-center" style="color:white">Email: <span t-field="company.partner_id.email"/></div>
					<div class="col-4 text-center" style="color:white">Web: <span t-field="company.partner_id.website"/></div>
				</div>
			</div>
		</template>


		<template id="quotation_external_layout">
			<t t-if="not o" t-set="o" t-value="doc"/>
	
			<t t-if="not company">
				<!-- Multicompany -->
				<t t-if="company_id">
					<t t-set="company" t-value="company_id"/>
				</t>
				<t t-elif="o and 'company_id' in o and o.company_id.sudo()">
					<t t-set="company" t-value="o.company_id.sudo()"/>
				</t>
				<t t-else="else">
					<t t-set="company" t-value="res_company"/>
				</t>
			</t>
	
			<t t-if="company.external_report_layout_id" t-call="{{company.external_report_layout_id.sudo().key}}"><t t-out="0"/></t>
			<t t-else="else" t-call="zeeetec_reports.zeeetec_external_layout_standard"><t t-out="0"/></t>
	
		</template>
		<template id="sale.report_saleorder_document">
			<t t-call="zeeetec_reports.quotation_external_layout">
				<t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />
				<t t-set="forced_vat" t-value="doc.fiscal_position_id.foreign_vat"/> <!-- So that it appears in the footer of the report instead of the company VAT if it's set -->
				<div class="page">
					<style>
						.table tr th{
							border-color: black;
						}
						.table tr td{
							border-color: black;
						}
					</style>
					<h4 class="text-center">
						<t t-if="not (env.context.get('proforma', False) or is_pro_forma)">
							<span t-if="doc.state not in ['draft','sent']">Order # </span>
							<span t-if="doc.state in ['draft','sent']">Quotation # </span>
						</t>
						<t t-if="env.context.get('proforma', False) or is_pro_forma">
							<span>Pro-Forma Invoice # </span>
						</t>
						<span t-field="doc.name"/>
					</h4>
					<table class="table table-board table-sm border rounded border-dark">
						<tr>
							<th  colspan="4" class="center text-center border-dark">Particulars Of Client</th>
						</tr>
						<tr>
							<th>Name: </th>
							<td class="border-right border-dark"><span t-field="doc.partner_id.commercial_partner_id"/></td> 
							<th>Sales Representive:</th>
							<td><span t-field="doc.user_id"/></td>
						</tr>
						<tr>
							<th>Contact Person: </th>
							<td class="border-right border-dark"><span t-field="doc.partner_id.name"/></td>
							<th>Contact Number:</th>
							<td><span t-field="doc.user_id.mobile"/></td>
						</tr>
						<tr>
							<th>Contact Number: </th>
							<td class="border-right border-dark"><span t-field="doc.partner_id.mobile"/></td>
							<th>Quoation Date:</th>
							<td> <span t-field="doc.date_order"  t-options='{"widget": "date"}'/></td>
						</tr>
						<tr>
							<th>Address: </th>
							<td class="border-right border-dark"><span t-field="doc.partner_id"
								t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
							</td>
							<th>Validity Date:</th>
							<td><span t-field="doc.validity_date"/></td>
						</tr>
						<tr>
							<th>Location: </th>
							<td class="border-right border-dark"><span t-field="doc.location"/></td>
							<th>Quotation Number:</th>
							<td> <span t-field="doc.name"/></td>
						</tr>
						
					</table>
					<p>With reference to your inquiry regarding our product(s), we are pleased to offer you the following Items.</p>
		
					<!-- Is there a discount on at least one line? -->
					<t t-set="display_discount" t-value="any(l.discount for l in doc.order_line)"/>
		
					<table class="table table-sm o_main_table border-dark table-bordered">
						<!-- In case we want to repeat the header, remove "display: table-row-group" -->
						<thead style="display: table-row-group">
							<tr>
								<th name="th_sr" class="text-center">SR.</th>
								<th name="th_barcode" class="text-center">Barcode</th>
								<th name="th_description" class="text-center">Product Name</th>
								<th name="th_unit" class="text-center">Unit</th>
								<th name="th_quantity" class="text-center">Quantity</th>
								<th name="th_priceunit" class="text-center">Price</th>
								<th name="th_subtotal" class="text-center">
									<span groups="account.group_show_line_subtotals_tax_excluded">Amount</span>
									<span groups="account.group_show_line_subtotals_tax_included">Total Price</span>
								</th>
							</tr>
						</thead>
						<tbody class="sale_tbody">
		
							<t t-set="current_subtotal" t-value="0"/>
		
							<t t-foreach="doc.order_line" t-as="line">
								<t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal" groups="account.group_show_line_subtotals_tax_excluded"/>
								<t t-set="current_subtotal" t-value="current_subtotal + line.price_total" groups="account.group_show_line_subtotals_tax_included"/>
		
								<tr t-att-class="'bg-200 font-weight-bold o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">
									<t t-if="not line.display_type">
										<td class="text-center"><span t-esc="line_index + 1 "/></td>
										<td class="text-center"><span t-if="line.product_id" t-field="line.product_id.barcode"/></td>
										<td name="td_name"><span t-field="line.name"/></td>
										<td name="td_quantity" class="text-center">
											<span t-field="line.product_uom"/>
										</td>
										<td name="td_quantity" class="text-center">
											<span t-field="line.product_uom_qty"/>
										</td>
										<td name="td_priceunit" class="text-center">
											<span t-field="line.price_unit"/>
										</td>
										<td name="td_subtotal" class="text-center o_price_total">
											<span t-field="line.price_subtotal" groups="account.group_show_line_subtotals_tax_excluded"/>
											<span t-field="line.price_total" groups="account.group_show_line_subtotals_tax_included"/>
										</td>
									</t>
									<t t-if="line.display_type == 'line_section'">
										<td name="td_section_line" colspan="99">
											<span t-field="line.name"/>
										</td>
										<t t-set="current_section" t-value="line"/>
										<t t-set="current_subtotal" t-value="0"/>
									</t>
									<t t-if="line.display_type == 'line_note'">
										<td name="td_note_line" colspan="99">
											<span t-field="line.name"/>
										</td>
									</t>
								</tr>
		
								<t t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')">
									<tr class="is-subtotal text-right">
										<td name="td_section_subtotal" colspan="99">
											<strong class="mr16">Subtotal</strong>
											<span
												t-esc="current_subtotal"
												t-options='{"widget": "monetary", "display_currency": doc.pricelist_id.currency_id}'
											/>
										</td>
									</tr>
								</t>
							</t>
						</tbody>
					</table>
		
					<div class="clearfix" name="so_total_summary">
						<div id="total" class="row" name="total">
							<div t-attf-class="#{'col-6' if report_type != 'html' else 'col-sm-7 col-md-6'} ml-auto">
								<table class="table table-sm">
									<!-- Tax totals -->
									<t t-set="tax_totals" t-value="json.loads(doc.tax_totals_json)"/>
									<t t-call="account.document_tax_totals"/>
								</table>
							</div>
						</div>
					</div>
		
					<div t-if="doc.signature" class="mt32 ml64 mr4" name="signature">
						<div class="offset-8">
							<strong>Signature</strong>
						</div>
						<div class="offset-8">
							<img t-att-src="image_data_uri(doc.signature)" style="max-height: 4cm; max-width: 8cm;"/>
						</div>
						<div class="offset-8 text-center">
							<p t-field="doc.signed_by"/>
						</div>
					</div>
		
					<div class="oe_structure"/>
					<div class="border-dark border" style="page-break-before: always; padding:4px">
						<h4>Terms and Conditions:</h4>
						<p t-field="doc.note" />

					</div>
					<p t-if="not is_html_empty(doc.payment_term_id.note)">
						<span t-field="doc.payment_term_id.note"/>
					</p>
					<p id="fiscal_position_remark" t-if="doc.fiscal_position_id and not is_html_empty(doc.fiscal_position_id.sudo().note)">
						<strong>Fiscal Position Remark:</strong>
						<span t-field="doc.fiscal_position_id.sudo().note"/>
					</p>
				</div>
			</t>
		</template>
	</data>
</odoo>